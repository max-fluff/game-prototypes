# Changelog
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## 1.8.0 - 2023-09-15
### Added
- Соревнования и задания в главном меню (#711)
- Сохранение превью окружения (#699)
- Кнопка проматывания консоли вниз (#690)
- Ссылки на телеграм каналы (#715)
- Горячие клавиши (#648)
- Перетаскивание бота при управление на WASD (#654)
- Фокусирование после перетаскивания (#658)
- Задания в уровнях (#691)
- Красная обводка блока с ошибкой (#611)

### Improved
- Русская локализация по-умолчанию (#737)
- Скейл интерфейса для маленьких разрешений (#722)

### Fixed
- Остановка бота нажатием "Стоп" (#720)
- Датчик линии не реагировал на рампу (#709)

### For developers
- Встроенный файл браузер под линукс (#708)
- Исходники ClipboardCli в проект (#692)
- Панель разработчика (#662)

## 1.7.0 - 2023-08-29
### Added
- Модуль "Магнит" (#646)
- Новые блоки для работы с датчиком цвета (#689)
- Перо (#624)
- Новые математические блоки (#622)
- Новая модель бампера (#667)
- Гироскоп (#629)
- Блоки для работы со списками (#602)
- Предупреждение при закрытии программы (#599)
- Таймер (#627)
- Название открытого файла (#590)
- Возможность создавать новую программу из меню "Файл" (#593)
- Конструктор окружений (#605)
- Подпрограммы (#531)
- Tooltips (#601)
- Автоматическое заполнение тел блоков (#479)
- Интерактивные объекты на полигоне сенсоров (#702)

### Improved
- Обновлена первьюшка модуля цвета (#671)

### Fixed
- При прокручивании Dropdown колёсиком, происходит зуммирование (#683)
- При открытии редактора не появлялось окно с предложением сохранить программу, если она не сохранена (#696)
- Не работало ограничение на количество символов в окне ввода текста (#592)
- Некоторые блоки выводили лишние ошибки в консоль (#632)
- Не появлялось окно уведомления при открытии программы (#565)
- Баги в блоках с выбором порта (#647)
- Программа не закрывалась при выборе опции "Не сохранять" (#678)
- Бампер в конфигураторе прилипает к курсору (#643)
- Использование блока RotateAngle ломало Undo (#615)
- Съезжало окно настроек графики (#652)
- Убран скайбокс из настроек (#591)

### For developers
- Изменение конфигов через ScriptableObject (#513)
- Изменения локализации в шаблоне PR (#607)
- UpdateDialogPresenter реализован как WindowPresenterBase (#610)
- Окружения перенесены в KulibinLevelFormat (#670)
- Доработан конструктор окружений (#681)
- Таблица с локализацией разделена на Dev и Prod (#609)
- Инициализация startup.json при смене веток (#649)

## 1.6.1 - 2023-06-21
### Fixed
- Не локализовалась подпись кнопки Workspace (#589)

###  For developers
- Улучшения для CI CD (#594)

## 1.6.0 - 2023-06-13
### Added
- Локализация на английский язык (#446)
- Дополнительные блоки операторов: модуль, округление, случайное число, остаток от деления (#482)
- Настройка вертикальной синхронизации (#545)
- Марсианское окружение (#547)
- Ошибки в блоках выводятся в консоль (#558)

### Improved
- Интерфейс главного меню (#567)
- Доработан ImageClipboard (#522)
- Переверстан UpdateIsReqiredWindow (#499)

### Fixed
- Колеса бота проваливались в стены (#520)
- Баги с авторизацией (#562)
- Выпадало исключение при удалении блока (#564)
- Исчезновение блока при дропе в место, где появляется всплывающее уведомление (#541)

###  For developers ⚙️
- Ошибка при выходе из play mode (#556)

## 1.5.1 - 2023-04-27
### Fixed
- Бот двигается по инерции при смене локации (#521)

### Improved
- При копировании блока через контекстное меню, копируется группа блоков (#514)

###  For developers ⚙️
- Доработан шаблон бага (#535)

## 1.5.0 - 2023-04-19
### Added
- Возможность запускать салют над роботом (#425)
- Возможность копировать картинку с программой в буфер обмена (#449)
- Автоматическое центрирование при загрузке программы (#423)
- Возможность перетаскивать группу блоков (#408)
- Блок Остановить (всё | эту подпрограмму) (#436)
- Блок "Ждать до" (#428)

### Improved
- Оптимизирована консоль (#435)
- Изменение масштаба при центрировании рабочей области (#452)
- Изменена модель маркера стартовой точки (#451)
- Отключена заставка 'Made with Unity' (#493)
- Упрощен запуск и остановка программы (#498)

### Fixed
- Залипание кнопокок (#471)
- Датчики видят флаг (стартовую точку) (#462)
- Блоки датчиков работают без указания порта (#460)
- Масштабирование рабочей области, вне фокуса (#429)
- Не работает блок со звуком после остановки программы (#443)
- Скроллы управлялись кнопками и неправильно работал скролл списка блоков (#502)
- Выход в меню из полигона (#445)
- Приложение не закрывается корректно (#490)
- На флажке можно было центрироваться во время слежения за ботом (#503)
- Не правильный формат времени в консоли (#506)
- Программа продолжает выполнение при изменении локации или программы (#517)
- Селектор окружения и бота не появляется при запуске (#525)

###  For developers ⚙️
- Дополнительное состояние при работе с кнопкой (#441)
- Внедрен RemoteConfig (#430)
- Единая система для работы с окнами (#432)
- Файлы с расширением *.kul теперь отслеживаются LFS (#467)
- Имплементирован IoC (#407)

## 1.4.2 - 2023-02-21
### Fixed
- Датчики воспринимали флажок #411
- Не работал переключатель теней после перезахода #415
- Не сохранялась выбранная переменная в блоках при загрузке и дублировании #414

###  For developers ⚙️
- Чеклисты для тестов в пулл-реквестах (#416)

## 1.4.1 - 2023-02-17
### Fixed
- Исправлена ошибка обновления #406

## 1.4.0 - 2023-02-17
### Added
- Управление ботом с помощью WASD #262
- Undo/Redo для блочки #340
- полигон для калибровки в меню выбора локации #323
- Табуляция по полям блока #341
- Защита от падения под землю #372
- Датчик цвета #363
- Масштабирование области программирования #364
- Масштабирование области программирования #364
- Группировка всех блоков в один ряд #365
- Центрирование окна на блоках в рабочей области #365
- Флажок, который пользователь может перемещать, и робот появляется на нем при нажатии на Reset #371

### Improved
- Список блоков размещен не внахлёст рабочей области, а слева от неё #300
- Взаимодействие с всплывающими меню #283
- более динамичная физика бота #274

### Changed
- Логика вытягивания блоков в рабочую область #296
- Окошко создания новой переменной #328
- Порядок пунктов уровня графики #294

### Fixed
- Блок выполняется постоянно, если дробные числа указать через запятую, а не точку #312
- Центрирование камеры ниже позиции бота #307
- При повторном нажатии на кнопку "Полигон" в стартовом экране во время загрузки полигона, открывается окно выхода #314
- Неправильно отображался переключатель теней в настройках #339
- Визуальные артефакты на полигоне #397
- двойное нажатие по кнопке play для повторного запуска #329
- Не работал светодиод на низких настройках графики #337
- загрузка файла из меню #351
- Баги в окне со списком блоков #345
- При дублировании блок должен появляться рядом с другим блоком #375
- При загрузке программы не удалялись старые переменные #376
- Ускорена анимация появления окон графики и выбора локаций #367

###  For developers ⚙️
- EntryPoint для создания App #347
- Шаблоны для задач и PR #326
- IoC-контейнер #342
- Напоминание в PR о новых блоках #352
- Возможность пользователю выбирать одно из окружений (❗❗❗ но из-за отсутствия UI отключено в 1.4.0) #323
- Возможность программировать дрона (❗❗❗ но из-за отсутствия UI отключено в 1.4.0) #323
- Добавлены комментарии для констант #333
- более понятные плейсхолдеры багов и PR #343
- После реимпорта ModulesConfig теперь имеет корректные значения #320
- Переработана архитектура #323
- Внедрено новое окуржение в master #323

## 1.3.0 - 2022-12-31
## 1.2.1 - 2022-12-19
### Fixed
- Деградация производительности по отношению к релизу `1.1.0`

## 1.2.0 - 2022-12-16
### Added
- Возможность быстрой навигации по окружению #284

### Fixed
- Залипание блоков #275
- Критически низкая производительность на слабых устройствах #272
- Не работает загрузка кода из меню #285
- При просмотре конфигуратора есть возможность перетаскивания блоков #275
- установлена высокая скорость дальномера по-умолчанию #259
- Не работала загрузка кода из меню #264, #285
- Исчезновение иконок на кнопках #254

###  For developers ⚙️
- Исправлено: Application.version не должен меняться при сборке TC #278
- Добавлена обёртка для блоков #253

## 1.1.0 - 2022-12-02
### Changed
###  For developers ⚙️
- Обновлен BlocksEngine до версии 2.9 #237
- Внедрена поддержка Teamcity #233

### Added
- Отображается силуэт бота, когда его что-то загораживает #217
- Переименование и удаление переменной #197
- Блоки для сервопривода: "установить скорость" и "ждать конца поворота". #220
- Камера следует за ботом при перетаскивании #242

### Fixed
- Невозможно закрыть рабочую область, если её полностью раскрыть #236
- Моргание в конфигураторе после взаимодействия с контекстным меню Windows #248
- После закрытия конфигуратора, при клике в любое место окружения, бот улетал #245
- Робот инвертирует вращение колёс на низкой скорости #250
- логирование ошибок на инициализации стейта #241
- Проблема с поворотом RangeFinder #220
- Медленная скорость сервопривода RangeFinder #220
- Не всегда срабатывают блоки движения #240
- Не работает датчик кнопки #224
- Камера выходила за пределы полигона #227
- Не работает дублирование блоков #232

## 1.0.0 - 2022-11-28
### Fixed
- В аналитику не отправляется секция блока в событии block_append #215
- Корректная работа вертикального скролла с растягиванием окна #202
- Не сохранялись не использующиеся переменные и значения переменных #196

### Changed
- Изменен цвет фона и текста hover-эффекта в контекстном меню #201

###  For developers ⚙️
- Наведен порядок в сцене и префабах #209

## 1.0.0-rc.8 - 2022-11-23
### Fixed
- Разрешение окна приложения при запуске выше, чем размер экрана #195
- Доработаны и актуализированы события аналитики #179

## 1.0.0-rc.7 - 2022-11-22
### Fixed
- Датчики линии не работают на подъёмах #198 at `890ac2f284`

## 1.0.0-rc.6 - 2022-11-21
### Fixed
- Не корректная работа вертикального скролла с растягиванием окна #169
- Размер рабочей области слишком большой по-умолчанию #181
- Проблема с длинным названием переменных #188 on `d3cd5bf2c7`
- Не сохраняются значения переменных #171 on `88646fc954`

### Added
- Механизм обновления клиента #170
- Сбор аналитики #179 on `cdaa959220`

###  For developers ⚙️
- Установщик приложения #183

## 1.0.0-rc.5 - 2022-11-14
### Fixed
- Не присоединяется платформа после сброса конфига бота #158
- Корректное отображение переменных при загрузке программы из файла #159
- Блок остаётся поверх других блоков в окне выбора блоков #164
- Блоки в зоне программирования перемещаются при растягивании рабочей области #166
- Невидимая стена на полигоне, из-за которой застревает бот #157

### Changed
- Логотип, название, некоторые цвета и шрифты #147

## 1.0.0-rc.4 - 2022-11-08
### Added
- Функционал дублирования блоков #141
- Блоки вычитания и деления #128
- Автоматическое закрытие выпадающего меню «Файл» при нажатии в любом месте #127
- Датчик линии способен определять под собой обрыв #139

### Fixed
- Выделение контакта последнего установленного датчика #153
- Периодическое удаление блока при наведении на другой блок #146
- баг при загрузке переменных #140

## 1.0.0-rc.3 - 2022-10-24
### Added
- Поддержка ввода дробных числе как с заятой так и точкой #95
- Выделения порта и подключенного к нему модуля #93
### Changed
- Оконный режим по умолчанию #117

### Fixed
- Произвольное перемещение робота (на заднем плане) в режиме конфигуратора #100


## 1.0.0-rc.2 - 2022-10-14
### Added
- ScrollBar в области рабочего пространства #122
### Changed
- Cпособ отображения блоков с постраничного на пролистывание #116

## 1.0.0-rc.1 - 2022-10-07
### Added
- Новое окружение с переработанными цветами и новыми локациями #101
- Добавлена кнопка для отчистки консоли #84
- Добавлены блоки-операторы ">=","<=" и "<" #82

### Changed
- Проект обновлен до `Unity 2020.3.39`
- Некоторые доработки интерфейса #98, #96, #91, #90, #85

## Fixed
- Исправлена ошибка с переполнением в блоках поворота #92
- Исправлен баг с прилипанием блока при alt + tab #97
- Исправлено необрабатываемое переполнение пользовательской переменной #88
- Исправлена ошибка в блоке "повторять пока" #81
- Мелкие исправления #73